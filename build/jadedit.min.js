var EDITOR=(function(){var a={};a.getEditorTemplate=function(b){return"<div id='jadedit-container'><div id='jadedit-button-controls'><div id='jadedit-editor-button' class='chosen'>Editor</div><div id='jadedit-preview-button'>Preview</div></div><div id='jadedit-editor-container'><textarea id='jadedit-editor'></textarea><div id='jadedit-preview' style='display: none;'></div><input type='hidden' id='jadedit-hidden' name='"+b+"' /></div></div>"};return a}());var EVENTS=(function(){var a={};a.registerEditorEvents=function(b){b.editorButton.onclick=function(){b.preview.style.display="none";b.editor.style.display="block";b.editorButton.className="chosen";b.previewButton.className=""};b.previewButton.onclick=function(){b.preview.style.display="block";b.editor.style.display="none";b.previewButton.className="chosen";b.editorButton.className=""}};a.registerPreviewProcessor=function(b,c){b.innerHTML=PROCESSOR.process(c)};return a}());var UTIL=(function(){var a={};a.tabCounter=function(c){for(var b=0;b<c.length;b++){if(c[b]!="\t"){return b}}};a.trimStart=function(b){return b.replace(/^( |\t)+/,"")};return a}());var KEYSTROKE_HANDLER=(function(){var a={};a.enableTab=function(b){b.keydown=function(d){if(d.keyCode===9){var f=this.value,g=this.selectionStart,c=this.selectionEnd;this.value=f.substring(0,g)+"\t"+f.substring(c);this.selectionStart=this.selectionEnd=g+1;return false}}};a.enablePreview=function(b){b.onkeyup=function(){hidden.value=translateJade()}};return a}());var JADE_PROCESSOR=(function(){var a={};return a}());var HTML_PROCESSOR=(function(){var a={};return a}());var MARKDOWN_PROCESSOR=(function(){var a={};return a}());var PROCESSOR=(function(b){var a={html:HTML_PROCESSOR,jade:JADE_PROCESSOR,markdown:MARKDOWN_PROCESSOR};a.process=function(){if(b==="html"){return a.html.process()}else{if(b==="jade"){return a.jade.process()}else{if(b==="markdown"){return a.markdown.process()}}}};return a}(PROCESSOR));(function Main(d,a,c){var e=document.getElementById("jadedit");if(e.length){document.write("Editor Container is not found.");return}if(!e.hasAttribute("name")){document.write("Editor does not have a name.");return}e.innerHTML=d.getEditorTemplate(e.getAttribute("name"));var b={editorButton:document.getElementById("jadedit-editor-button"),previewButton:document.getElementById("jadedit-preview-button"),editor:document.getElementById("jadedit-editor"),preview:document.getElementById("jadedit-preview"),hidden:document.getElementById("jadedit-hidden")};a.registerEditorEvents(b);c.enableTab(b.editor);c.enablePreview(b.editor);a.registerPreviewProcessor(b.preview,"jade")}(EDITOR,EVENTS,KEYSTROKE_HANDLER));